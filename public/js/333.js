"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[333],{3744:(e,t)=>{t.Z=(e,t)=>{const n=e.__vccOpts||e;for(const[e,o]of t)n[e]=o;return n}},9673:(e,t,n)=>{n.r(t),n.d(t,{default:()=>M});var o=n(821),r={class:"setting"},a={class:"side"},l={class:"container",style:{gap:"0"}},i={class:"header"},c={key:0,class:"input-group"},s={for:"tax"},u={key:1,class:"input-group"},d={for:"tax"},m={class:"input-group"},p={for:"language"},g=[(0,o.createElementVNode)("option",{value:"en"},"English",-1),(0,o.createElementVNode)("option",{value:"ar"},"العربية",-1)],v={key:2,class:"input-group"},f={for:"currency"},y={value:"usd"},h={value:"egp"},V={value:"eur"},N={value:"sar"},E={value:"qar"},S={value:"kwd"},k={value:"aed"},w=["value"];var $=n(7757),x=n.n($),D=n(9669),b=n.n(D),C=n(433);function B(e,t,n,o,r,a,l){try{var i=e[a](l),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(o,r)}const L={components:{Sidebar:function(){return n.e(404).then(n.bind(n,9404))}},data:function(){return{user:JSON.parse(localStorage.getItem("wiresPOSUser")),lang:"",locale:localStorage.getItem("wiresPOSLang"),form:{tax:null,service:null,currency:""}}},mounted:function(){var e,t=this;return(e=x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b().post("/api/get-settings",{},{headers:{token:t.user.token}}).then((function(e){t.form.tax=e.data.tax_rate,t.form.service=e.data.service_rate,t.form.currency=e.data.currency})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(o,r){var a=e.apply(t,n);function l(e){B(a,o,r,l,i,"next",e)}function i(e){B(a,o,r,l,i,"throw",e)}l(void 0)}))})()},methods:{setLanguage:function(e){"en"==this.lang?(this.$i18n.locale="en",C.Z.commit("setAppLanguage","en")):"ar"==this.lang&&(this.$i18n.locale="ar",C.Z.commit("setAppLanguage","ar"))},updateSystem:function(){var e=this;b().post("/api/update-settings",this.form,{headers:{token:this.user.token}}).then((function(t){alert(e.$t("system-settings-updated")),location.reload()})).catch((function(t){alert(e.$t("something-went-wrong"))}))}}};const M=(0,n(3744).Z)(L,[["render",function(e,t,n,$,x,D){var b=(0,o.resolveComponent)("Sidebar"),C=(0,o.resolveComponent)("font-awesome-icon"),B=(0,o.resolveComponent)("router-link");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)("app-".concat(e.$i18n.locale))},[(0,o.createElementVNode)("div",r,[(0,o.createVNode)(b),(0,o.createElementVNode)("div",a,[(0,o.createElementVNode)("div",l,[(0,o.createElementVNode)("div",i,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.$t("system-settings")),1),(0,o.createVNode)(B,{to:"/settings"},{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(C,{icon:["fas","angle-left"]}),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(e.$t("settings")),1)]})),_:1})]),(0,o.createElementVNode)("form",{method:"POST",onSubmit:t[5]||(t[5]=(0,o.withModifiers)((function(){return D.updateSystem&&D.updateSystem.apply(D,arguments)}),["prevent"]))},["admin"==x.user.role?((0,o.openBlock)(),(0,o.createElementBlock)("div",c,[(0,o.createElementVNode)("label",s,(0,o.toDisplayString)(e.$t("tax"))+" (%)",1),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"number",id:"tax",step:"0.001","onUpdate:modelValue":t[0]||(t[0]=function(e){return x.form.tax=e}),required:""},null,512),[[o.vModelText,x.form.tax]])])):(0,o.createCommentVNode)("",!0),"admin"==x.user.role?((0,o.openBlock)(),(0,o.createElementBlock)("div",u,[(0,o.createElementVNode)("label",d,(0,o.toDisplayString)(e.$t("service"))+" (%)",1),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"number",id:"tax",step:"0.001","onUpdate:modelValue":t[1]||(t[1]=function(e){return x.form.service=e}),required:""},null,512),[[o.vModelText,x.form.service]])])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",m,[(0,o.createElementVNode)("label",p,(0,o.toDisplayString)(e.$t("language")),1),(0,o.withDirectives)((0,o.createElementVNode)("select",{id:"language","onUpdate:modelValue":t[2]||(t[2]=function(e){return x.lang=e}),onChange:t[3]||(t[3]=function(e){return D.setLanguage(x.lang)})},g,544),[[o.vModelSelect,x.lang]])]),"admin"==x.user.role?((0,o.openBlock)(),(0,o.createElementBlock)("div",v,[(0,o.createElementVNode)("label",f,(0,o.toDisplayString)(e.$t("system-currency")),1),(0,o.withDirectives)((0,o.createElementVNode)("select",{id:"currency","onUpdate:modelValue":t[4]||(t[4]=function(e){return x.form.currency=e})},[(0,o.createElementVNode)("option",y,(0,o.toDisplayString)(e.$t("usd")),1),(0,o.createElementVNode)("option",h,(0,o.toDisplayString)(e.$t("egp")),1),(0,o.createElementVNode)("option",V,(0,o.toDisplayString)(e.$t("eur")),1),(0,o.createElementVNode)("option",N,(0,o.toDisplayString)(e.$t("sar")),1),(0,o.createElementVNode)("option",E,(0,o.toDisplayString)(e.$t("qar")),1),(0,o.createElementVNode)("option",S,(0,o.toDisplayString)(e.$t("kwd")),1),(0,o.createElementVNode)("option",k,(0,o.toDisplayString)(e.$t("aed")),1)],512),[[o.vModelSelect,x.form.currency]])])):(0,o.createCommentVNode)("",!0),"admin"==x.user.role?((0,o.openBlock)(),(0,o.createElementBlock)("input",{key:3,type:"submit",class:"save",value:e.$t("save-changes")},null,8,w)):(0,o.createCommentVNode)("",!0)],32)])])])],2)}]])}}]);