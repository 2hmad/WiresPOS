"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[379],{3744:(e,t)=>{t.Z=(e,t)=>{const r=e.__vccOpts||e;for(const[e,n]of t)r[e]=n;return r}},9509:(e,t,r)=>{r.r(t),r.d(t,{default:()=>N});var n=r(821),o={class:"setting"},s={class:"side"},a={class:"container",style:{gap:"0"}},c={class:"header"},i={class:"input-group"},l={for:"oldPassword"},d={class:"input-group"},u={for:"newPassword"},p={class:"input-group"},f={for:"ConfPassword"},w=["value"];var m=r(7757),v=r.n(m),h=r(9669),g=r.n(h);function b(e,t,r,n,o,s,a){try{var c=e[s](a),i=c.value}catch(e){return void r(e)}c.done?t(i):Promise.resolve(i).then(n,o)}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){V(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function V(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const P={components:{Sidebar:function(){return r.e(404).then(r.bind(r,9404))}},data:function(){return{user:JSON.parse(localStorage.getItem("wiresPOSUser")),confirm_new_password:"",form:{old_password:"",new_password:""}}},methods:O(O({},(0,r(3907).nv)(["LogOut"])),{},{changePassword:function(){var e=this;this.form.new_password===this.confirm_new_password?g().post("/api/update-password",this.form,{headers:{token:this.user.token}}).then((function(t){alert(e.$t("password-changed")),e.logout()})).catch((function(t){alert(e.$t("old-password-incorrect"))})):alert(this.$t("password-and-confirm-not-match"))},logout:function(){var e,t=this;return(e=v().mark((function e(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.LogOut();case 3:location.reload(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var s=e.apply(t,r);function a(e){b(s,n,o,a,c,"next",e)}function c(e){b(s,n,o,a,c,"throw",e)}a(void 0)}))})()}})};const N=(0,r(3744).Z)(P,[["render",function(e,t,r,m,v,h){var g=(0,n.resolveComponent)("Sidebar"),b=(0,n.resolveComponent)("font-awesome-icon"),y=(0,n.resolveComponent)("router-link");return(0,n.openBlock)(),(0,n.createElementBlock)("div",{class:(0,n.normalizeClass)("app-".concat(e.$i18n.locale))},[(0,n.createElementVNode)("div",o,[(0,n.createVNode)(g),(0,n.createElementVNode)("div",s,[(0,n.createElementVNode)("div",a,[(0,n.createElementVNode)("div",c,[(0,n.createElementVNode)("h3",null,(0,n.toDisplayString)(e.$t("change-password")),1),(0,n.createVNode)(y,{to:"/settings"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(b,{icon:["fas","angle-left"]}),(0,n.createTextVNode)(" "+(0,n.toDisplayString)(e.$t("settings")),1)]})),_:1})]),(0,n.createElementVNode)("form",{method:"POST",onSubmit:t[3]||(t[3]=(0,n.withModifiers)((function(){return h.changePassword&&h.changePassword.apply(h,arguments)}),["prevent"]))},[(0,n.createElementVNode)("div",i,[(0,n.createElementVNode)("label",l,(0,n.toDisplayString)(e.$t("old-password")),1),(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"password",id:"oldPassword","onUpdate:modelValue":t[0]||(t[0]=function(e){return v.form.old_password=e})},null,512),[[n.vModelText,v.form.old_password]])]),(0,n.createElementVNode)("div",d,[(0,n.createElementVNode)("label",u,(0,n.toDisplayString)(e.$t("new-password")),1),(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"password",id:"newPassword","onUpdate:modelValue":t[1]||(t[1]=function(e){return v.form.new_password=e})},null,512),[[n.vModelText,v.form.new_password]])]),(0,n.createElementVNode)("div",p,[(0,n.createElementVNode)("label",f,(0,n.toDisplayString)(e.$t("confirm-new-password")),1),(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"password",id:"ConfPassword","onUpdate:modelValue":t[2]||(t[2]=function(e){return v.confirm_new_password=e})},null,512),[[n.vModelText,v.confirm_new_password]])]),(0,n.createElementVNode)("input",{type:"submit",class:"save",value:e.$t("save-changes")},null,8,w)],32)])])])],2)}]])}}]);